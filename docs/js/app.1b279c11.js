(function(e){function t(t){for(var o,r,s=t[0],i=t[1],u=t[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&f.push(c[r][0]),c[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(o=!1)}o&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},c={app:0},a=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function c(e,t,n,c,a,r){var s=Object(o["q"])("Game");return Object(o["m"])(),Object(o["c"])(s)}function a(e,t,n,c,a,r){var s=Object(o["q"])("SceneVisuals"),i=Object(o["q"])("Welcome"),u=Object(o["q"])("Rules"),l=Object(o["q"])("Title");return Object(o["m"])(),Object(o["e"])("div",null,[Object(o["g"])(s),"Welcome"===e.currentStage?(Object(o["m"])(),Object(o["c"])(i,{key:0})):Object(o["d"])("",!0),"Rules"===e.currentStage?(Object(o["m"])(),Object(o["c"])(u,{key:1})):Object(o["d"])("",!0),"Title"===e.currentStage?(Object(o["m"])(),Object(o["c"])(l,{key:2,title:e.getRoundTitle},null,8,["title"])):Object(o["d"])("",!0)])}var r=n("5530"),s=n("5502"),i={computed:Object(r["a"])(Object(r["a"])({},Object(s["c"])({getLabel:"data/getLabel",getRoundTitle:"stages/getRoundTitle",currentStage:"stages/getCurrentStage"})),Object(s["d"])({}))},u=n("d959"),l=n.n(u);const d=l()(i,[["render",a]]);var f=d,b={components:{Game:f}};const g=l()(b,[["render",c]]);var m=g,j={continue:["Continuar"],next:["Siguiente"],back:["Anterior"],accept:["Aceptar"],welcome_title:["La ruleta de la suerte"],welcome_body:["Juega online al famoso juego"],rules_title:["Reglas del juego"],rules_1:["Gana el que llegue a la final con mas dinero"],rules_2:["Si caes en la quiebra vas a perder el dinero y el turno de la ronda"]},O=function(){return{languages:{ESP:0},language:0,cameraPositions:[],turnIndex:0}},p={getLabel:function(e){return function(t){return j[t]?j[t][e.language]:"No label"}},getCameraPos:function(e){return e.cameraPositions[e.turnIndex]},getCameraPosCenter:function(e){return e.cameraPositions[3]}},h={setLanguage:function(e,t){var n=e.commit;n("setLanguage",t)},setRedPos:function(e,t){var n=e.commit;n("setRedPos",t)},setYellowPos:function(e,t){var n=e.commit;n("setYellowPos",t)},setBluePos:function(e,t){var n=e.commit;n("setBluePos",t)},setCenterPos:function(e,t){var n=e.commit;n("setCenterPos",t)}},v={setLanguage:function(e,t){e.language=e.languages[t]},nextTurn:function(e){e.turnIndex=(e.turnIndex+1)%3},setRedPos:function(e,t){e.cameraPositions[1]=t},setYellowPos:function(e,t){e.cameraPositions[2]=t},setBluePos:function(e,t){e.cameraPositions[0]=t},setCenterPos:function(e,t){e.cameraPositions[3]=t}},L={namespaced:!0,state:O,getters:p,actions:h,mutations:v},P=function(){return{currentStage:"Welcome",roundTitles:["Prueba de velocidad"],roundIndex:0,scene:null,renderer:null,gltfScene:null}},S={getCurrentStage:function(e){return e.currentStage},getGLTF:function(e){return e.gltfScene},getRenderer:function(e){return e.renderer},getRoundTitle:function(e){return e.roundTitles[e.roundIndex]}},y={addGLTFScene:function(e,t){var n=e.commit;n("addToScene",t),n("setGLTFScene",t)},setStage:function(e,t){var n=e.commit;n("setStage",t)}},w={setScene:function(e,t){e.scene=t},setStage:function(e,t){e.currentStage=t},setRenderer:function(e,t){e.renderer=t},setGLTFScene:function(e,t){e.gltfScene=t},addToScene:function(e,t){e.scene.add(t)}},C={namespaced:!0,state:P,getters:S,actions:y,mutations:w},x=Object(s["a"])({modules:{data:L,stages:C}}),T=n("af1e");function k(e,t,n,c,a,r){var s=this;return Object(o["m"])(),Object(o["e"])("button",{class:"continueButton",onClick:t[0]||(t[0]=function(t){return!s.disabled&&e.setStage(n.nextStage)})},Object(o["r"])(e.getLabel("continue")),1)}var R={props:{nextStage:String,disabled:{type:Boolean,default:!1}},computed:Object(r["a"])({},Object(s["c"])({getLabel:"data/getLabel"})),methods:Object(r["a"])({},Object(s["b"])({setStage:"stages/setStage"}))};const _=l()(R,[["render",k]]);var A=_;function q(e,t,n,c,a,r){return n.message?(Object(o["m"])(),Object(o["e"])("button",{key:0,class:Object(o["k"])(["option hided",{active:!e.sceneLoading,disabled:n.disabled}]),onClick:t[0]||(t[0]=function(){return r.onClick&&r.onClick.apply(r,arguments)})},Object(o["r"])(n.message),3)):Object(o["d"])("",!0)}n("a9e3");var I={props:{index:Number,message:String,disabled:{type:Boolean,default:!1}},computed:Object(r["a"])({},Object(s["c"])({sceneLoading:"stages/isSceneLoading"})),methods:{onClick:function(){this.disabled||this.$store.commit("data/saveSceneDecision",this.index)}}};const M=l()(I,[["render",q]]);var $=M;function z(e,t,n,c,a,r){var s=Object(o["q"])("LoadGLTF"),i=Object(o["q"])("LoadFBX");return Object(o["m"])(),Object(o["e"])(o["a"],null,[n.sceneConfig.gltf?(Object(o["m"])(),Object(o["c"])(s,{key:0,ref:"gltf",sceneConfig:n.sceneConfig.gltf},null,8,["sceneConfig"])):Object(o["d"])("",!0),n.sceneConfig.fbx?(Object(o["m"])(),Object(o["c"])(i,{key:1,ref:"fbx",models:n.sceneConfig.fbx},null,8,["models"])):Object(o["d"])("",!0)],64)}n("4de4"),n("d3b7"),n("159b");var B={props:{sceneConfig:Object},computed:Object(r["a"])({},Object(s["c"])({isSceneLoading:"stages/isSceneLoading"})),mounted:function(){this.objects=[this.$refs.gltf,this.$refs.fbx].filter((function(e){return e}))},methods:{update:function(){this.objects.forEach((function(e){return e.update()}))},isLoaded:function(){return(!this.$refs.gltf||this.$refs.gltf.isLoaded)&&(!this.$refs.fbx||this.$refs.fbx.isLoaded)}}};const F=l()(B,[["render",z]]);var G=F;function E(e,t,n,c,a,r){return Object(o["m"])(),Object(o["e"])("div")}n("b0c0"),n("caad"),n("2532");var Y=n("5a89"),N=n("34ad"),D=n("0ca5"),W={props:{sceneConfig:Object},data:function(){return{isLoaded:!1,clock:new Y["o"]}},mounted:function(){var e=this,t=new Y["oc"],n=new D["a"],o=new N["a"];n.setDecoderPath("./assets/draco/"),o.setDRACOLoader(n);var c=t.load("./assets/scenes/".concat(this.sceneConfig.name,"/baked.jpg"));c.flipY=!1;var a=t.load("./assets/images/screen.png");a.flipY=!1;t.load("./assets/images/monitor.png");var r=new Y["ob"]({map:c});c.encoding=Y["Ic"];var s=new Y["ob"]({color:16777215});o.load("./assets/scenes/".concat(this.sceneConfig.name,"/scene.glb"),(function(t){e.setAllMaterial(t,r),e.setMaterialIncludes(t,"Light",s),e.setRedPos(t.scene.children.filter((function(e){return"Red"===e.name}))[0].position),e.setBluePos(t.scene.children.filter((function(e){return"Blue"===e.name}))[0].position),e.setYellowPos(t.scene.children.filter((function(e){return"Yellow"===e.name}))[0].position),e.setCenterPos(t.scene.children.filter((function(e){return"Center"===e.name}))[0].position),e.addScene(t.scene),e.isLoaded=!0}))},computed:Object(r["a"])({},Object(s["c"])({gltf:"stages/getGLTF",getCameraPos:"data/getCameraPos"})),methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])({addScene:"stages/addGLTFScene",setRedPos:"data/setRedPos",setYellowPos:"data/setYellowPos",setBluePos:"data/setBluePos",setCenterPos:"data/setCenterPos"})),{},{update:function(){this.isLoaded},setMaterialIncludes:function(e,t,n){e.scene.children.filter((function(e){return e.name.includes(t)})).forEach((function(e){return e.material=n}))},setMaterial:function(e,t,n){e.scene.children.filter((function(e){return e.name===t})).forEach((function(e){return e.material=n}))},setAllMaterial:function(e,t){e.scene.traverse((function(e){e.material=t}))}})};const J=l()(W,[["render",E]]);var V=J;function X(e,t,n,c,a,r){var s=Object(o["q"])("Aura"),i=Object(o["q"])("FbxModel");return Object(o["m"])(),Object(o["e"])(o["a"],null,[Object(o["g"])(s,{ref:"aura"},null,512),(Object(o["m"])(!0),Object(o["e"])(o["a"],null,Object(o["p"])(n.models,(function(e){return Object(o["m"])(),Object(o["c"])(i,{key:e,src:"./assets/models/".concat(e.path,".fbx"),onLoad:r.onLoad,scale:e.scale||{x:.01,y:.01,z:.01},position:e.position||{x:0,y:0,z:0},rotation:e.rotation||{y:.5*-Math.PI}},null,8,["src","onLoad","scale","position","rotation"])})),128))],64)}var H={props:{models:Array},mounted:function(){this.isLoaded=!1,this.animations=[]},methods:{update:function(){this.animations.forEach((function(e){e.animation.update(e.clock.getDelta())})),this.$refs.aura.update()},onLoad:function(e){var t=new Y["e"](e);t.clipAction(e.animations[0]).play();var n=new Y["o"];0===this.animations.length&&this.$refs.aura.init(this.models[0].position),this.animations.push({animation:t,clock:n}),this.animations.length===this.models.length&&(this.isLoaded=!0)}}};const K=l()(H,[["render",X]]);var Q=K;function U(e,t,n,c,a,r){var s=Object(o["q"])("PerspectiveCamera"),i=Object(o["q"])("AmbientLight"),u=Object(o["q"])("Loader"),l=Object(o["q"])("Scene"),d=Object(o["q"])("Renderer");return Object(o["m"])(),Object(o["c"])(d,{ref:"renderer",resize:"window"},{default:Object(o["u"])((function(){return[Object(o["g"])(s,{ref:"camera",position:a.cameraPosition,lookAt:a.cameraLookAt},null,8,["position","lookAt"]),Object(o["g"])(l,{ref:"scene",background:"#000000"},{default:Object(o["u"])((function(){return[Object(o["g"])(i,{intensity:.8},null,8,["intensity"]),Object(o["g"])(u,{ref:"loader",sceneConfig:{gltf:{name:"room"}}},null,512)]})),_:1},512)]})),_:1},512)}var Z=n("cffa"),ee={data:function(){return{cameraPosition:{x:2,y:3,z:0},cameraLookAt:{x:0,y:0,z:0},ANIM_TIME:1}},mounted:function(){var e=this;this.scene=this.$refs.scene,this.renderer=this.$refs.renderer,this.renderer.renderer.outputEncoding=Y["Ic"],this.$store.commit("stages/setScene",this.scene),this.$store.commit("stages/setRenderer",this.renderer),this.renderer.onBeforeRender((function(){e.$refs.loader.update()}))},computed:Object(r["a"])({},Object(s["c"])({stage:"stages/getCurrentStage",gltf:"stages/getGLTF",getCameraPos:"data/getCameraPos",centerPos:"data/getCameraPosCenter"})),watch:{stage:function(e,t){console.log(e),"Throw"===e&&this.startRound()}},methods:{startRound:function(){var e=this.getCameraPos,t=this.centerPos,n=new Y["Ac"](e.x,e.y,e.z),o=new Y["Ac"](t.x,t.y,t.z),c=new Y["Ac"]((e.x+t.x)/2,(e.y+t.y)/2-.3,(e.z+t.z)/2);this.swap(this.cameraPosition,n),this.twoSwaps(this.cameraLookAt,o,c)},swap:function(e,t){Z["a"].to(e,{duration:this.ANIM_TIME,x:t.x,y:t.y,z:t.z})},twoSwaps:function(e,t,n){var o=this;Z["a"].to(e,{duration:this.ANIM_TIME,x:t.x,y:t.y,z:t.z,onComplete:function(){o.swap(e,n)}})}}};const te=l()(ee,[["render",U]]);var ne=te,oe={class:"card-container"},ce={class:"card-title"},ae={class:"card-body"},re={class:"rule"},se={class:"rule"},ie={class:"card-action"};function ue(e,t,n,c,a,r){var s=Object(o["q"])("Continue");return Object(o["m"])(),Object(o["e"])("div",null,[Object(o["f"])("div",oe,[Object(o["f"])("div",ce,[Object(o["f"])("h1",null,Object(o["r"])(e.getLabel("rules_title")),1)]),Object(o["f"])("div",ae,[Object(o["f"])("div",re,[Object(o["f"])("p",null,Object(o["r"])(e.getLabel("rules_1")),1)]),Object(o["f"])("div",se,[Object(o["f"])("p",null,Object(o["r"])(e.getLabel("rules_2")),1)])]),Object(o["f"])("div",ie,[Object(o["g"])(s,{nextStage:"Throw"})])])])}var le={computed:Object(r["a"])({},Object(s["c"])({getLabel:"data/getLabel"}))};const de=l()(le,[["render",ue]]);var fe=de,be={class:"center"},ge={class:"round-title"};function me(e,t,n,c,a,r){return Object(o["m"])(),Object(o["e"])("div",be,[Object(o["f"])("div",ge,[Object(o["f"])("p",null,Object(o["r"])(n.title),1)])])}var je={props:["title"],mounted:function(){},computed:Object(r["a"])({},Object(s["c"])({getLabel:"data/getLabel"}))};const Oe=l()(je,[["render",me]]);var pe=Oe,he={class:"card-container"},ve={class:"card-title"},Le={class:"card-body"},Pe={class:"card-action"};function Se(e,t,n,c,a,r){var s=Object(o["q"])("Continue");return Object(o["m"])(),Object(o["e"])("div",null,[Object(o["f"])("div",he,[Object(o["f"])("div",ve,[Object(o["f"])("h1",null,Object(o["r"])(e.getLabel("welcome_title")),1)]),Object(o["f"])("div",Le,[Object(o["f"])("p",null,Object(o["r"])(e.getLabel("welcome_body")),1)]),Object(o["f"])("div",Pe,[Object(o["g"])(s,{nextStage:"Rules"})])])])}var ye={computed:Object(r["a"])({},Object(s["c"])({getLabel:"data/getLabel"}))};const we=l()(ye,[["render",Se]]);var Ce=we;Object(o["b"])(m).use(x).use(T["a"]).component("Continue",A).component("Option",$).component("Loader",G).component("LoadGLTF",V).component("LoadFBX",Q).component("SceneVisuals",ne).component("Rules",fe).component("Title",pe).component("Welcome",Ce).mount("#app")}});
//# sourceMappingURL=app.1b279c11.js.map