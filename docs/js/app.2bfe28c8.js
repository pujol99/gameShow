(function(e){function t(t){for(var a,o,s=t[0],i=t[1],l=t[2],d=0,b=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(b.length)b.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var i=n[s];0!==c[i]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},c={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function c(e,t,n,c,r,o){var s=Object(a["r"])("Game");return Object(a["n"])(),Object(a["c"])(s)}function r(e,t,n,c,r,o){var s=Object(a["r"])("SceneVisuals"),i=Object(a["r"])("SceneUI"),l=Object(a["r"])("Welcome"),u=Object(a["r"])("Rules"),d=Object(a["r"])("Title");return Object(a["n"])(),Object(a["e"])("div",null,[Object(a["h"])(s),Object(a["h"])(i),"Welcome"===e.currentStage?(Object(a["n"])(),Object(a["c"])(l,{key:0})):Object(a["d"])("",!0),"Rules"===e.currentStage?(Object(a["n"])(),Object(a["c"])(u,{key:1})):Object(a["d"])("",!0),"Title"===e.currentStage?(Object(a["n"])(),Object(a["c"])(d,{key:2,title:e.getRoundTitle},null,8,["title"])):Object(a["d"])("",!0)])}var o=n("5530"),s=n("5502"),i={computed:Object(o["a"])(Object(o["a"])({},Object(s["c"])({getLabel:"data/getLabel",getRoundTitle:"stages/getRoundTitle",currentStage:"stages/getCurrentStage"})),Object(s["d"])({}))},l=n("d959"),u=n.n(l);const d=u()(i,[["render",r]]);var b=d,f={components:{Game:b}};const g=u()(f,[["render",c]]);var j=g,O=(n("b0c0"),{continue:["Continuar"],next:["Siguiente"],back:["Anterior"],accept:["Aceptar"],welcome_title:["La ruleta de la suerte"],welcome_body:["Juega online al famoso juego"],rules_title:["Reglas del juego"],rules_1:["Gana el que llegue a la final con mas dinero"],rules_2:["Si caes en la quiebra vas a perder el dinero y el turno de la ronda"]}),m=function(){return{languages:{ESP:0},language:0,cameraPositions:{Blue:null,Red:null,Yellow:null,Center:null,Board:null},turnIndex:0}},p={getLabel:function(e){return function(t){return O[t]?O[t][e.language]:"No label"}},getParticipantPos:function(e){switch(e.turnIndex){case 0:return e.cameraPositions["Blue"];case 1:return e.cameraPositions["Red"];case 2:return e.cameraPositions["Yellow"]}},getCameraPos:function(e){return function(t){return e.cameraPositions[t]}}},v={setLanguage:function(e,t){var n=e.commit;n("setLanguage",t)},setCameraPos:function(e,t){var n=e.commit;n("setCameraPos",t)}},h={setLanguage:function(e,t){e.language=e.languages[t]},nextTurn:function(e){e.turnIndex=(e.turnIndex+1)%3},setCameraPos:function(e,t){e.cameraPositions[t.name]=t.pos}},L={namespaced:!0,state:m,getters:p,actions:v,mutations:h},S=function(){return{currentStage:"Welcome",roundTitles:["Prueba de velocidad"],roundIndex:0,scene:null,renderer:null,gltfScene:null}},P={getCurrentStage:function(e){return e.currentStage},getGLTF:function(e){return e.gltfScene},getRenderer:function(e){return e.renderer},getRoundTitle:function(e){return e.roundTitles[e.roundIndex]}},w={addGLTFScene:function(e,t){var n=e.commit;n("addToScene",t),n("setGLTFScene",t)},setStage:function(e,t){var n=e.commit;n("setStage",t)}},C={setScene:function(e,t){e.scene=t},setStage:function(e,t){e.currentStage=t},setRenderer:function(e,t){e.renderer=t},setGLTFScene:function(e,t){e.gltfScene=t},addToScene:function(e,t){e.scene.add(t)}},y={namespaced:!0,state:S,getters:P,actions:w,mutations:C},x=Object(s["a"])({modules:{data:L,stages:y}}),T=n("af1e");function k(e,t,n,c,r,o){var s=this;return Object(a["n"])(),Object(a["e"])("button",{class:"continueButton",onClick:t[0]||(t[0]=function(t){return!s.disabled&&e.setStage(n.nextStage)})},Object(a["s"])(e.getLabel("continue")),1)}var _={props:{nextStage:String,disabled:{type:Boolean,default:!1}},computed:Object(o["a"])({},Object(s["c"])({getLabel:"data/getLabel"})),methods:Object(o["a"])({},Object(s["b"])({setStage:"stages/setStage"}))};const R=u()(_,[["render",k]]);var I=R;function A(e,t,n,c,r,o){return n.message?(Object(a["n"])(),Object(a["e"])("button",{key:0,class:Object(a["l"])(["option hided",{active:!e.sceneLoading,disabled:n.disabled}]),onClick:t[0]||(t[0]=function(){return o.onClick&&o.onClick.apply(o,arguments)})},Object(a["s"])(n.message),3)):Object(a["d"])("",!0)}n("a9e3");var M={props:{index:Number,message:String,disabled:{type:Boolean,default:!1}},computed:Object(o["a"])({},Object(s["c"])({sceneLoading:"stages/isSceneLoading"})),methods:{onClick:function(){this.disabled||this.$store.commit("data/saveSceneDecision",this.index)}}};const $=u()(M,[["render",A]]);var B=$;function F(e,t,n,c,r,o){var s=Object(a["r"])("LoadGLTF"),i=Object(a["r"])("LoadFBX");return Object(a["n"])(),Object(a["e"])(a["a"],null,[n.sceneConfig.gltf?(Object(a["n"])(),Object(a["c"])(s,{key:0,ref:"gltf",sceneConfig:n.sceneConfig.gltf},null,8,["sceneConfig"])):Object(a["d"])("",!0),n.sceneConfig.fbx?(Object(a["n"])(),Object(a["c"])(i,{key:1,ref:"fbx",models:n.sceneConfig.fbx},null,8,["models"])):Object(a["d"])("",!0)],64)}n("4de4"),n("d3b7"),n("159b");var G={props:{sceneConfig:Object},computed:Object(o["a"])({},Object(s["c"])({isSceneLoading:"stages/isSceneLoading"})),mounted:function(){this.objects=[this.$refs.gltf,this.$refs.fbx].filter((function(e){return e}))},methods:{update:function(){this.objects.forEach((function(e){return e.update()}))},isLoaded:function(){return(!this.$refs.gltf||this.$refs.gltf.isLoaded)&&(!this.$refs.fbx||this.$refs.fbx.isLoaded)}}};const E=u()(G,[["render",F]]);var z=E;function Y(e,t,n,c,r,o){return Object(a["n"])(),Object(a["e"])("div")}n("caad"),n("2532");var D=n("5a89"),N=n("34ad"),V=n("0ca5"),W={props:{sceneConfig:Object},data:function(){return{isLoaded:!1,clock:new D["o"]}},mounted:function(){var e=this,t=new D["oc"],n=new V["a"],a=new N["a"];n.setDecoderPath("./assets/draco/"),a.setDRACOLoader(n);var c=t.load("./assets/scenes/".concat(this.sceneConfig.name,"/baked.jpg"));c.flipY=!1;var r=t.load("./assets/images/screen.png");r.flipY=!1;t.load("./assets/images/monitor.png");var o=new D["ob"]({map:c});c.encoding=D["Ic"];var s=new D["ob"]({color:16777215});a.load("./assets/scenes/".concat(this.sceneConfig.name,"/scene.glb"),(function(t){e.setAllMaterial(t,o),e.setMaterialIncludes(t,"Light",s),e.setCameraPos({pos:t.scene.children.filter((function(e){return"Red"===e.name}))[0].position,name:"Red"}),e.setCameraPos({pos:t.scene.children.filter((function(e){return"Blue"===e.name}))[0].position,name:"Blue"}),e.setCameraPos({pos:t.scene.children.filter((function(e){return"Yellow"===e.name}))[0].position,name:"Yellow"}),e.setCameraPos({pos:t.scene.children.filter((function(e){return"Center"===e.name}))[0].position,name:"Center"}),e.setCameraPos({pos:t.scene.children.filter((function(e){return"Board"===e.name}))[0].position,name:"Board"}),e.addScene(t.scene),e.isLoaded=!0}))},computed:Object(o["a"])({},Object(s["c"])({gltf:"stages/getGLTF"})),methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])({addScene:"stages/addGLTFScene",setCameraPos:"data/setCameraPos"})),{},{update:function(){this.isLoaded},setMaterialIncludes:function(e,t,n){e.scene.children.filter((function(e){return e.name.includes(t)})).forEach((function(e){return e.material=n}))},setMaterial:function(e,t,n){e.scene.children.filter((function(e){return e.name===t})).forEach((function(e){return e.material=n}))},setAllMaterial:function(e,t){e.scene.traverse((function(e){e.material=t}))}})};const q=u()(W,[["render",Y]]);var J=q;function U(e,t,n,c,r,o){var s=Object(a["r"])("Aura"),i=Object(a["r"])("FbxModel");return Object(a["n"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(s,{ref:"aura"},null,512),(Object(a["n"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.models,(function(e){return Object(a["n"])(),Object(a["c"])(i,{key:e,src:"./assets/models/".concat(e.path,".fbx"),onLoad:o.onLoad,scale:e.scale||{x:.01,y:.01,z:.01},position:e.position||{x:0,y:0,z:0},rotation:e.rotation||{y:.5*-Math.PI}},null,8,["src","onLoad","scale","position","rotation"])})),128))],64)}var X={props:{models:Array},mounted:function(){this.isLoaded=!1,this.animations=[]},methods:{update:function(){this.animations.forEach((function(e){e.animation.update(e.clock.getDelta())})),this.$refs.aura.update()},onLoad:function(e){var t=new D["e"](e);t.clipAction(e.animations[0]).play();var n=new D["o"];0===this.animations.length&&this.$refs.aura.init(this.models[0].position),this.animations.push({animation:t,clock:n}),this.animations.length===this.models.length&&(this.isLoaded=!0)}}};const H=u()(X,[["render",U]]);var K=H;function Q(e,t,n,c,r,o){var s=Object(a["r"])("PerspectiveCamera"),i=Object(a["r"])("AmbientLight"),l=Object(a["r"])("Loader"),u=Object(a["r"])("Scene"),d=Object(a["r"])("Renderer");return Object(a["n"])(),Object(a["c"])(d,{ref:"renderer",resize:"window"},{default:Object(a["v"])((function(){return[Object(a["h"])(s,{ref:"camera",position:r.cameraPosition,lookAt:r.cameraLookAt},null,8,["position","lookAt"]),Object(a["h"])(u,{ref:"scene",background:"#000000"},{default:Object(a["v"])((function(){return[Object(a["h"])(i,{intensity:.8},null,8,["intensity"]),Object(a["h"])(l,{ref:"loader",sceneConfig:{gltf:{name:"room"}}},null,512)]})),_:1},512)]})),_:1},512)}var Z=n("cffa"),ee={data:function(){return{cameraPosition:{x:2,y:3,z:0},cameraLookAt:{x:0,y:0,z:0},ANIM_TIME:1}},mounted:function(){var e=this;this.scene=this.$refs.scene,this.renderer=this.$refs.renderer,this.renderer.renderer.outputEncoding=D["Ic"],this.$store.commit("stages/setScene",this.scene),this.$store.commit("stages/setRenderer",this.renderer),this.renderer.onBeforeRender((function(){e.$refs.loader.update()}))},computed:Object(o["a"])({},Object(s["c"])({stage:"stages/getCurrentStage",gltf:"stages/getGLTF",getCameraPos:"data/getCameraPos",getParticipantPos:"data/getParticipantPos"})),watch:{stage:function(e,t){console.log(e),"Throw"===e&&this.setParticipantView("Center")}},methods:{setParticipantView:function(e){this.swapCameraPos(this.cameraPosition,this.getParticipantPos),this.swapCameraPos(this.cameraLookAt,this.getCameraPos(e))},swapCameraPos:function(e,t){Z["a"].to(e,{duration:this.ANIM_TIME,x:t.x,y:t.y,z:t.z})}}};const te=u()(ee,[["render",Q]]);var ne=te,ae={class:"footer"},ce=Object(a["f"])("div",{class:"subfooter"},[Object(a["f"])("div",{class:"money"},[Object(a["f"])("h2",null,"50$")]),Object(a["f"])("div",{class:"totalMoney"},[Object(a["f"])("h5",null,"450$")])],-1),re={class:"mainFooter"},oe=Object(a["f"])("div",null,[Object(a["f"])("div",{class:"perks"},[Object(a["f"])("p",null,"Perks")])],-1),se={class:"throw"},ie=Object(a["f"])("h3",null,"Throw",-1),le=[ie],ue=Object(a["g"])('<div><div class="vowels"><div class="vowel">A</div><div class="vowel">E</div><div class="vowel">I</div><div class="vowel">O</div><div class="vowel">U</div></div></div>',1);function de(e,t,n,c,r,o){return Object(a["n"])(),Object(a["e"])("div",ae,[ce,Object(a["f"])("div",re,[oe,Object(a["f"])("div",se,[Object(a["f"])("div",{class:Object(a["l"])(["throw-content",{"throw-content-disabled":"Throw"!==e.stage}])},le,2)]),ue])])}var be={data:function(){return{}},mounted:function(){},computed:Object(o["a"])({},Object(s["c"])({stage:"stages/getCurrentStage"}))};const fe=u()(be,[["render",de]]);var ge=fe,je={class:"card-container"},Oe={class:"card-title"},me={class:"card-body"},pe={class:"rule"},ve={class:"rule"},he={class:"card-action"};function Le(e,t,n,c,r,o){var s=Object(a["r"])("Continue");return Object(a["n"])(),Object(a["e"])("div",null,[Object(a["f"])("div",je,[Object(a["f"])("div",Oe,[Object(a["f"])("h1",null,Object(a["s"])(e.getLabel("rules_title")),1)]),Object(a["f"])("div",me,[Object(a["f"])("div",pe,[Object(a["f"])("p",null,Object(a["s"])(e.getLabel("rules_1")),1)]),Object(a["f"])("div",ve,[Object(a["f"])("p",null,Object(a["s"])(e.getLabel("rules_2")),1)])]),Object(a["f"])("div",he,[Object(a["h"])(s,{nextStage:"Throw"})])])])}var Se={computed:Object(o["a"])({},Object(s["c"])({getLabel:"data/getLabel"}))};const Pe=u()(Se,[["render",Le]]);var we=Pe,Ce={class:"center"},ye={class:"round-title"};function xe(e,t,n,c,r,o){return Object(a["n"])(),Object(a["e"])("div",Ce,[Object(a["f"])("div",ye,[Object(a["f"])("p",null,Object(a["s"])(n.title),1)])])}var Te={props:["title"],mounted:function(){},computed:Object(o["a"])({},Object(s["c"])({getLabel:"data/getLabel"}))};const ke=u()(Te,[["render",xe]]);var _e=ke,Re={class:"card-container"},Ie={class:"card-title"},Ae={class:"card-body"},Me={class:"card-action"};function $e(e,t,n,c,r,o){var s=Object(a["r"])("Continue");return Object(a["n"])(),Object(a["e"])("div",null,[Object(a["f"])("div",Re,[Object(a["f"])("div",Ie,[Object(a["f"])("h1",null,Object(a["s"])(e.getLabel("welcome_title")),1)]),Object(a["f"])("div",Ae,[Object(a["f"])("p",null,Object(a["s"])(e.getLabel("welcome_body")),1)]),Object(a["f"])("div",Me,[Object(a["h"])(s,{nextStage:"Rules"})])])])}var Be={computed:Object(o["a"])({},Object(s["c"])({getLabel:"data/getLabel"}))};const Fe=u()(Be,[["render",$e]]);var Ge=Fe;Object(a["b"])(j).use(x).use(T["a"]).component("Continue",I).component("Option",B).component("Loader",z).component("LoadGLTF",J).component("LoadFBX",K).component("SceneVisuals",ne).component("SceneUI",ge).component("Rules",we).component("Title",_e).component("Welcome",Ge).mount("#app")}});
//# sourceMappingURL=app.2bfe28c8.js.map